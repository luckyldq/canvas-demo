<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, initial-scale=1.0, width=device-width" />
<meta name="format-detection" content="telephone=no, email=no, date=no, address=no">
<title>绘制正多边形</title>
<style>
    body, html{
        position: relative;padding:0;margin: 0;overflow: hidden;
    }
    canvas{
        /* border: 1px solid #000; */
        margin: 10px;
        -webkit-box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
        -moz-box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
        box-shadow: 4px 4px 8px rgba(0, 0, 0, 0.5);
    }
</style>
</head>
<body>
    <div class="canvas-box">
        <canvas id="mycanvas"></canvas>
    </div>
    <script type="module">
        import {drawCircle, strokeLine, drawPolygon} from '../canvas.js'

        const canvas = document.querySelector('canvas');
        const ctx = canvas.getContext('2d',{willReadFrequently: true});
        let w = 650,
            h = 450;
        canvas.width = w;
        canvas.height = h;

        
        // 生成多边形顶点 
        /* 
        x,y：多边形外接圆圆心
        r：多边形外接圆半径
        */
        let lines = 8;
        let r = 100;
        let x = 100;
        let y = 100;

        drawPolygon({ctx, x, y, r, lines});

        // let points = getPolygonPoints(x, y, r, lines);
        // // lineTo和moveTo用反了，导致渲染没效果，T_T
        // for(let i=0; i<points.length; i++){
        //     let point = points[i];
        //     if(i == 0){
        //         ctx.moveTo(point[0], point[1]);
        //     }else{
        //         ctx.lineTo(point[0], point[1]);
        //     }
        // }
        // ctx.closePath();
        // ctx.stroke();

        // function getPolygonPoints(x, y, r, lineNums){
        //     let points = [];
        //     // 每个角度
        //     const perAngle = 2*Math.PI / lineNums;
        //     for(let i=0; i<lineNums; i++){
        //         let curAngle = i * perAngle;
        //         points.push([
        //             r * Math.cos(curAngle) + x,
        //             r * Math.sin(curAngle) + y
        //         ]);
        //     }
        //     return points;
        // }

    </script>
    <script src="https://cdn.bootcss.com/vConsole/3.3.0/vconsole.min.js"></script>
    <script>
        var vConsole = new VConsole();
    </script>
</body>
</html>